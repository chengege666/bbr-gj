# 🚀 自用 VPS 工具箱 v3.0

**GitHub:** `https://github.com/chengege666/bbr-gj`

一个多功能 Shell 脚本工具箱，专为 VPS 用户设计，集成了 **BBR 拥塞控制优化**、**系统维护**、**服务管理 (Docker/SSH)** 以及 **关键组件 (GLIBC)** 的查询与管理功能，旨在简化日常操作和性能调优。

## 📥 如何运行 (一键运行)

请确保您拥有 **root 权限**（或使用 `sudo`），您可以选择以下任何一个命令来下载并运行脚本：

### **推荐命令 (使用进程替换)**

这种方法通常更加优雅，且避免将脚本内容直接写入历史记录。

```bash
bash <(curl -L -s https://raw.githubusercontent.com/chengege666/bbr-gj/main/vpsgj.sh)
```

### **替代命令 (使用管道)**

这是最常见、最通用的远程执行方式，适用于大多数 Linux 系统。

**选项 A: 使用 `curl`**

```bash
curl -L -s https://raw.githubusercontent.com/chengege666/bbr-gj/main/vpsgj.sh | bash
```

**选项 B: 使用 `wget`**

```bash
wget -qO- https://raw.githubusercontent.com/chengege666/bbr-gj/main/vpsgj.sh | bash
```

> **提示：** 脚本运行后，如果检测到依赖缺失，会自动尝试安装必要的工具，如 `speedtest-cli`、`curl`、`wget` 等。

-----

## 🌟 主要功能特性

### 1\. 🌐 BBR 性能优化与测速

| 编号 | 功能描述 | 备注 |
| :--- | :--- | :--- |
| **1** | **BBR 综合测速** (BBR/BBR Plus/BBRv2/BBRv3 对比) | 自动切换算法并测速，结果保存至 `bbr_result.txt` |
| **2** | **安装/切换 BBR 内核** | 快速调用外部成熟脚本（ylx2016/Linux-NetSpeed）进行内核切换 |

### 2\. 💻 VPS 系统管理

| 编号 | 功能描述 | 备注 |
| :--- | :--- | :--- |
| **3** | **查看系统信息** | 详细显示 OS、CPU、内存、磁盘、IP、**当前 BBR 类型** 和 **GLIBC 版本** |
| **4** | **更新软件包并升级** | 升级已安装的软件，**不升级内核** |
| **5** | **系统清理** | 清理缓存和旧版依赖包 |
| **6** | **IPv4/IPv6 切换** | 切换脚本内部使用的网络模式（当前模式会在菜单中显示） |
| **7** | **系统时区调整** | 快速设置为上海或纽约时区，或手动输入 |
| **8** | **系统重启** | 安全重启系统 |
| **9** | **GLIBC 管理** (查询/升级) | 升级为**高风险操作**，可能导致系统不稳定 |
| **10** | **全面系统升级** | 升级所有软件包，**包含内核升级**，**高风险操作** |

### 3\. 🛠️ 服务与组件管理

| 编号 | 功能描述 | 备注 |
| :--- | :--- | :--- |
| **11** | **Docker 容器管理** | 支持一键安装 Docker，并提供查看和重启容器的功能 |
| **12** | **SSH 端口与密码修改** | 快速修改 SSH 端口，以及修改 `root` 用户密码，并自动重启 SSH 服务 |

### 4\. 🗑️ 脚本卸载

| 编号 | 功能描述 | 备注 |
| :--- | :--- | :--- |
| **13** | **卸载脚本及残留文件** | 彻底清除脚本文件和相关依赖包（可选）|
| **0** | **退出脚本** | 退出工具箱 |

-----

## ⚠️ 风险与注意事项

1.  **Root 权限：** 本脚本所有功能均需要 **root 权限**才能执行。
2.  **高风险操作：**
      * **全面系统升级 (10)** 和 **GLIBC 升级 (9)** 属于系统底层更改，可能导致系统不稳定甚至无法启动。请在执行前**务必进行快照备份**。
3.  **SSH 端口更改 (12)：**
      * 如果您更改了 SSH 端口，请确保您的**防火墙 (如 `iptables`, `firewalld`) 或云服务商的安全组**已放行新端口。端口更改后，您需要使用新端口重新连接。
